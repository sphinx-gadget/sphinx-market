async function loadProduct(){ const res=await fetch('products.json'); const products=await res.json(); const id=new URLSearchParams(location.search).get('id'); const p=products.find(x=>x.id===id); if(!p){document.getElementById('detail').textContent='Produk tidak dijumpai';return;} document.getElementById('detail').innerHTML=`<div style="display:flex;gap:20px;flex-wrap:wrap"><img src="${p.image}" style="width:360px;max-width:100%"/><div style="flex:1"><h2>${p.name}</h2><div class="badge">${p.brand}</div><p>${p.condition}</p><div class="price">${formatMYR(p.price)}</div><div style="margin-top:12px"><button class="btn" onclick='addToCart({id:"${p.id}",name:"${p.name}",price:${p.price||0}})'>Tambah ke Troli</button> <a class="btn" href="cart.html">Lihat Troli</a></div></div></div>`;} document.addEventListener('DOMContentLoaded',loadProduct);
